<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ğŸ”’âœ¨ Cifrado de Mensajes MÃ¡gico</title>
  <meta name="description" content="âœ¨ Cifra y descifra tus mensajes con estilo, voz y seguridad. Ahora con accesos rÃ¡pidos y modo oscuro.">
  <meta name="theme-color" content="#6a1b9a" />
  <link rel="icon" href="icon.ico" type="image/png">
  <link rel="apple-touch-icon" href="icons/icon-192.png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- BOTÃ“N DE CAMBIO DE TEMA -->
  <button class="theme-toggle" id="themeToggle" aria-label="Cambiar tema">
    ğŸŒ— Modo oscuro / Claro
  </button>

  <!-- CONTENEDOR PRINCIPAL -->
  <div class="container fade-in">
    <header class="app-header">
      <h1>ğŸ” Cifrador/Descifrador</h1>
      <p class="app-description">âœ¨ Protege tus mensajes mÃ¡gicamente con mÃºltiples algoritmos y funciones ğŸ§™â€â™‚ï¸</p>
    </header>

    <div id="statusMessage" class="status-message" role="status" aria-live="polite">âŒ› Esperando mensaje...</div>

    <!-- ENTRADA DE MENSAJE -->
    <section class="message-section">
      <div class="form-group">
        <label for="message" class="input-label">ğŸ’¬ Mensaje:</label>
        <div class="input-with-dictation">
          <textarea 
            id="message" 
            class="message-input"
            placeholder="ğŸ“ Escribe o dicta tu mensaje aquÃ­... (Ctrl+Espacio para dictar)"
            aria-label="Campo de entrada de mensaje"
          ></textarea>
          <div class="dictation-controls">
            <button id="startDictation" class="dictation-button" aria-label="Iniciar dictado por voz" title="Ctrl + Espacio">
              ğŸ¤ Dictado por voz
            </button>
            <button id="stopDictationBtn" class="action-button stop-dictation">ğŸ›‘ Detener dictado</button>
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- SELECCIÃ“N DE ALGORITMO -->
    <section class="algorithm-section">
      <div class="form-group">
        <label for="algorithm">ğŸ§ Algoritmo:</label>
        <p class="algorithm-description">ğŸ”’ Selecciona el algoritmo de cifrado que deseas utilizar.</p>
        <select id="algorithm" class="algorithm-dropdown" aria-label="Selecciona un algoritmo de cifrado">
          <option value="AES">ğŸ” AES</option>
          <option value="TripleDES">ğŸ”’ Triple DES</option>
          <option value="Rabbit">ğŸ‡ Rabbit</option>
          <option value="RC4">ğŸ¯ RC4</option>
          <option value="Base64">ğŸ§¬ Base64</option>
          <option value="URL">ğŸŒ CodificaciÃ³n URL</option>
          <option value="Hex">ğŸ“¦ Hexadecimal</option>
          <option value="Binary">ğŸ’¾ Binario</option>
        </select>
        <p id="algorithm-info" class="algorithm-info">â„¹ï¸ Selecciona el mÃ©todo de cifrado que desees aplicar.</p>
      </div>
    </section>

    <!-- CLAVE -->
    <section class="key-section">
      <div class="form-group clave-container">
        <label for="keyInput">ğŸ”‘Clave:</label>
        <p class="key-description">ğŸ”‘ Introduce una clave para cifrar/descifrar tu mensaje.</p>
        <div class="input-with-icon">
          <input 
            type="password" 
            id="key" 
            class="key-input"
            placeholder="ğŸ” Escribe tu clave"
            aria-label="Clave para cifrado/descifrado"
          >
          <button id="toggleKey" class="toggle-password" aria-label="Mostrar/ocultar clave">
            ğŸ‘ï¸ Mostrar
          </button>
        </div>
      </div>
    </section>

    <!-- BOTONES PRINCIPALES -->
    <section class="actions-section">
      <div class="action-buttons">
        <button id="encryptBtn" class="action-button encrypt" aria-label="Cifrar mensaje (Ctrl+Enter)">
          ğŸ”’ Cifrar
        </button>
        <button id="decryptBtn" class="action-button decrypt" aria-label="Descifrar mensaje (Ctrl+Shift+Enter)">
          ğŸ”“ Descifrar
        </button>
      </div>
    </section>

    <!-- RESULTADO -->
    <section class="results-section">
      <div class="form-group">
        <label for="outputText">ğŸ“ƒResultado:</label>
        <textarea 
          id="output" 
          class="result-output"
          placeholder="ğŸ“¦ AquÃ­ aparecerÃ¡ tu mensaje cifrado o descifrado..."
          readonly
          aria-label="Campo de salida del resultado"
        ></textarea>
      </div>
    </section>

    <!-- ACCIONES SECUNDARIAS -->
    <section class="secondary-actions">
      <div class="button-group">
        <button id="copyBtn" class="secondary-button" aria-label="Copiar resultado al portapapeles">
          ğŸ“‹ Copiar
        </button>
        <button id="clearBtn" class="secondary-button" aria-label="Limpiar campos">
          ğŸ§¹ Limpiar
        </button>
        <button id="swapBtn" class="secondary-button" aria-label="Intercambiar mensaje y resultado">
          ğŸ”„ Intercambiar
        </button>
      </div>
    </section>
  </div>

  <!-- SCRIPTS -->
  <script src="https://cdn.jsdelivr.net/npm/crypto-js@4.1.1/crypto-js.min.js"></script>
  <script src="aes.js"></script>
</body>
</html>
